<template>
  <div
    :style="{ height: 'calc(100dvh - 80px)', maxHeight: 'calc(100dvh - 80px)' }"
    class="overflow-hidden flex flex-col px-2 py-1"
  >
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <div
      v-motion
      :initial="{ opacity: 0, y: -20 }"
      :enter="{ opacity: 1, y: 0 }"
      :transition="{ duration: 0.5 }"
      class="text-center mb-1 flex-shrink-0"
    >
      <h1 class="text-base font-press-start mb-0.5 bg-clip-text text-transparent bg-gradient-to-r from-loona-neon to-loona-glow-purple neon-text">
        üîÆ Tarot Web App
      </h1>
      <p class="text-loona-text-secondary text-xs leading-tight">
        –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–∞–π–Ω—ã –í—Å–µ–ª–µ–Ω–Ω–æ–π —Å –ø–æ–º–æ—â—å—é –∫–∞—Ä—Ç –¢–∞—Ä–æ
      </p>
    </div>

    <!-- –õ—É–Ω–∞ -->
    <div class="flex-1 flex justify-center items-center min-h-0 overflow-hidden">
      <div class="max-w-[45%] max-h-[50%] flex items-center justify-center">
        <div class="text-4xl md:text-5xl animate-neon-glow w-full h-full flex items-center justify-center">
          üåô
        </div>
      </div>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∞ -->
    <div class="mt-1 w-full flex-shrink-0">
      <GradientButton
        variant="primary"
        class="w-full py-2.5 text-sm rounded-xl"
        @click="startReading"
      >
        –ì–∞–¥–∞—Ç—å
      </GradientButton>
    </div>
  </div>
</template>

<script setup>
import { onMounted, nextTick } from 'vue'
import { useRouter } from 'vue-router'
import GradientButton from '../components/ui/GradientButton.vue'

const router = useRouter()

const startReading = () => {
  router.push('/reading')
}

const resetScroll = () => {
  // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–∫—Ä–æ–ª–ª –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
  window.scrollTo(0, 0)
  document.documentElement.scrollTop = 0
  document.body.scrollTop = 0
}

onMounted(() => {
  // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—Ä–∞–∑—É
  resetScroll()
  
  // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è DOM —Ä–µ–Ω–¥–µ—Ä–∞
  nextTick(() => {
    resetScroll()
  })
  
  // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è transition –∞–Ω–∏–º–∞—Ü–∏–∏ (300ms + –∑–∞–ø–∞—Å 50ms)
  setTimeout(() => {
    resetScroll()
  }, 350)
})
</script>
